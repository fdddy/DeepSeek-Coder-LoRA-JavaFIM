## ğŸ“Œ æ³¨æ„äº‹é¡¹

- åŸºäº`LLaMA-Factory` æ‰§è¡Œå¾®è°ƒï¼Œå¾®è°ƒæ•°æ®é›†å·²ç»é›†æˆ `Deepseekcoder-fim-lora-llamafy/data`ç›®å½•ä¸‹ã€‚
- å¤„ç†å’Œè¾“å‡ºæ•°æ®ä¿å­˜åœ¨ `data/` å’Œ `output/` ç›®å½•ä¸‹ã€‚**æ–‡ä»¶ä¸­ä»£ç éƒ¨åˆ†çš„æ–‡ä»¶è·¯å¾„ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆå¦‚æ¨¡å‹ä½ç½®ç­‰ï¼‰ï¼Œå› æ­¤å¦‚éœ€è¿è¡Œéœ€è¦è¿›ä¸€æ­¥ä¿®æ”¹æ–‡ä»¶è·¯å¾„ã€‚**
- è¯·æ ¹æ®å®é™…æ¨¡å‹è·¯å¾„å’Œé…ç½®ä¿®æ”¹ `train_fim.sh` å’Œè„šæœ¬ä¸­çš„è¶…å‚æ•°ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```bash
.
â”œâ”€â”€ data				    # å­˜æ”¾å¤„ç†åçš„æ•°æ®é›†
â”‚   â”œâ”€â”€ cleaned_data	
â”‚   â”œâ”€â”€ eval_dataset.json	# ç”¨äºè¯„ä¼°çš„æ•°æ®é›†
â”‚   â”œâ”€â”€ mixed_finetune_dataset.json # å¾®è°ƒæ•°æ®é›†
â”‚   â””â”€â”€ raw_data
â”œâ”€â”€ output					# æ¨¡å‹è®­ç»ƒè¾“å‡ºåŠä¸­é—´ç»“æœ
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ scripts					# æ ¸å¿ƒè„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ dataclean.py              # æ¸…æ´—åŸå§‹Javaä»£ç 
â”‚   â”œâ”€â”€ datamerge.py              # åˆå¹¶å¤šä»½æ•°æ®ä¸ºè®­ç»ƒé›†
â”‚   â”œâ”€â”€ dataset.py                # åŠ è½½ä¸å¤„ç†è®­ç»ƒæ•°æ®
â”‚   â”œâ”€â”€ evaluate_fim_compare.py   # è¯„ä¼°ä¸åŒFIMè¡¥å…¨æ–¹å¼æ•ˆæœ
â”‚   â”œâ”€â”€ java_processing.log       # æ•°æ®å¤„ç†æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ prepare_fim_data.py       # ç”ŸæˆFIMæ ¼å¼çš„è®­ç»ƒæ•°æ®
â””â”€â”€ test.py                   # åŠ è½½æ¨¡å‹å¹¶è¿›è¡ŒFIMè¡¥å…¨æµ‹è¯•
â””â”€â”€ train_fim.sh              # LoRAå¾®è°ƒè®­ç»ƒè„šæœ¬
```

## ğŸš€ ä½¿ç”¨è¯´æ˜

### 1. æ•°æ®é¢„å¤„ç†

ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼š

```bash
python scripts/dataset.py
python scripts/dataclean.py
python scripts/prepare_fim_data.py
python scripts/datamerge.py
```

### 2. æ¨¡å‹è®­ç»ƒ

æ‰§è¡Œè®­ç»ƒè„šæœ¬å¼€å§‹å¾®è°ƒï¼š

```bash
bash train_fim.sh
```

### 3. è¯„ä¼°ä¸æµ‹è¯•

è¯„ä¼°FIMè¡¥å…¨æ•ˆæœï¼š

```bash
python scripts/evaluate_fim_compare.py
```

æµ‹è¯•æ¨ç†æ•ˆæœï¼š

```bash
python test.py
```